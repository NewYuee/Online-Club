<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
fail!
<div>
    <a href="/success"><button id="butt">按钮</button></a>
</div>
<div>
    <img id="imgVerify" src="login/getVerify" alt="更换验证码" height="36" width="170">
</div>

<div>
    <h2>SpingMVC文件上传方式</h2>
    <form action="file/upload" method="post" enctype="multipart/form-data">
        选择文件：<input id="upimg" type="file" accept="image/*" name="multipartFile" onchange="upload()"/> <br/>
        <input type="submit" value="上传"/>
    </form>
</div>
<div>
    <h2>图片上传预览</h2>
    <div>
        <img id="img" src="" alt="" style="width: 200px;height: auto">
    </div>
</div>
<script type="text/javascript" src="https://mmad.top:82/res/static/js/jquery-1.8.2.min.js"></script>
<script>
    function upload(){
        var fileInput = document.getElementById("upimg");
        var file = fileInput.files[0];
        //创建读取文件的对象
        var reader = new FileReader();
        //创建文件读取相关的变量
        var imgFile;
        //为文件读取成功设置事件
        reader.onload=function(e) {
            // alert('文件读取完成');
            imgFile = e.target.result;
            console.log(imgFile);
            $("#img").attr('src',imgFile);
        };

        //正式读取文件
        reader.readAsDataURL(file);
    }
</script>
</body>
</html>