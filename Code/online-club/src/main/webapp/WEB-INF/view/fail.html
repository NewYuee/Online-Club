<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
fail!
<div>
    <a href="/success"><button id="butt">按钮</button></a>
    <a href="/user/remember/sendmail?userMail=1219904057@qq.com">找回密码</a>
</div>
<div>
    <img id="imgVerify" src="login/getVerify" alt="更换验证码" height="36" width="170">
</div>
<div class="parent">1233133</div>
<div class="parent" id="123">
    <div>
        111
    </div>
    <div class="a22a" id="23">
        div
        <div class="remove">
           点击消失
        </div>
    </div>

</div>

<div>
    <h2>SpingMVC文件上传方式</h2>
    <form action="file/upload" method="post" enctype="multipart/form-data">
        选择文件：<input id="upimg" type="file" accept="image/*" name="multipartFile" onchange="upload()"/> <br/>
        <input type="submit" value="上传"/>
    </form>
</div>
<div>
    <h2>图片上传预览</h2>
    <div>
        <img id="img" src="" alt="" style="width: 200px;height: auto">
    </div>
</div>
<script type="text/javascript" src="https://mmad.top:82/res/static/js/jquery-1.8.2.min.js"></script>
<script src="../../static/layer/layer.js"></script>
<script>



    $('.remove').on('click',function () {
        console.log("shanchu"+$(this).closest('.parent').attr('id'))
        var div=$(this).closest('.parent');
        layer.confirm('确认删除该内容吗', {icon: 0, title:'确认框'}, function(index){
            div.remove();
            layer.close(index);
        });
    })

    function upload(){
        var fileInput = document.getElementById("upimg");
        var file = fileInput.files[0];
        //创建读取文件的对象
        var reader = new FileReader();
        //创建文件读取相关的变量
        var imgFile;
        //为文件读取成功设置事件
        reader.onload=function(e) {
            // alert('文件读取完成');
            imgFile = e.target.result;
            console.log(imgFile);
            $("#img").attr('src',imgFile);
        };

        //正式读取文件
        reader.readAsDataURL(file);
    }
</script>
</body>
</html>